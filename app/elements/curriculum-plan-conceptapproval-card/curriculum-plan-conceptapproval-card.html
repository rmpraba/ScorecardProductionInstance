
<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="curriculum-plan-conceptapproval-card">
  <template>
    <style>
      :host {
        display: block;
      }
      .position{   
        margin-left:5%;
      }
      #tb1{
        width:15%
      }
      #tb2{
        width:35%
      }
      #tb3{
        width:10%
      }
      #itemcard:nth-child(odd) {
        background-color: white; 
      }
      #itemcard:nth-child(even) {
        background-color: #f1f1f1;
      }
      #itemcard{
        width: 80%;
        margin-left: 11%;  
      }
      .plan{
      margin-top:5.3%;position: absolute;
     
        },

      .report1
      {
          table-layout: fixed;
          border-collapse: collapse;
          width: 1921px;
         
          margin-top: 5%;
      }
          .zui-scroller {
    margin-left: 531.1px;
    overflow-x: scroll;
    overflow-y: visible;
    padding-bottom: 5px;
    width: 847px;
}
  .zui-sticky-col1 {
      left: 0;
      position: absolute;
      top: auto;
   height: 5.4%;
  }
.zui-sticky-col {
  
    left: 0;
    position: absolute;
    top: auto;
 height: 24.1%;
   
}
paper-tab{
  margin-left: -2%;
}
th,td{
    border-left: 1px solid #ddd;
     border-right: 1px solid #ddd;
     border-bottom: 1px solid #ddd;
     border-top: 1px solid #ddd;
     }
      paper-dropdown-menu
      {
        --paper-input-container-label: { color: red };
        text-align:center;
      }
    </style>

    <div style="margin-left: -6%;">
      <span class="position"> 
        <paper-dropdown-menu  label="Select the Grade">
          <paper-menu id="cpapprovalgrade" class="dropdown-content"   on-iron-select="FnSelectGrade">
            <template is="dom-repeat" items="{{gradearr}}">
            <paper-item value="{{item.gradeid}}">{{item.gradename}}</paper-item>
            </template>    
          </paper-menu>
        </paper-dropdown-menu>
      </span>
      <span class="position"> 
        <paper-dropdown-menu  label="Select Section">
          <paper-menu id="cpapprovalsection" class="dropdown-content"  on-iron-select="FnSelectSection">
            <template is="dom-repeat" items="{{sectionarr}}">
            <paper-item value="{{item.class_id}}">{{item.section_id}}</paper-item>
            </template>    
          </paper-menu>
        </paper-dropdown-menu>
      </span>  
      <span class="position">    
        <paper-dropdown-menu  label="Select Subject">
          <paper-menu id="cpapprovalsubject" class="dropdown-content"   on-iron-select="FnSelectSubject">
            <template is="dom-repeat" items="{{subjectarr}}">
            <paper-item value="{{item.subject_id}}">{{item.subject_name}}</paper-item>
            </template>    
          </paper-menu>
        </paper-dropdown-menu>
      </span>  
        <span class="position"> 
         <paper-dropdown-menu id="term" label="Select Term">
           <paper-menu id="chaptertermidggggg" class="dropdown-content"   on-iron-select="Fnchaptertermid" attr-for-selected="value" required>
                <paper-item value="term1">Term1</paper-item>
                <paper-item value="term2">Term2</paper-item>
                <paper-item value="term3">Term3</paper-item>
            </paper-menu>
          </paper-dropdown-menu>
       </span>

      
    

      <span class="position"> 
        <paper-dropdown-menu  label="Select the chapter">
          <paper-menu id="cpapprovalchapter" class="dropdown-content"   on-iron-select="FnSelectChapter">
          <template is="dom-repeat" items="{{chapterarr}}">
          <paper-item value="{{item.chapter_id}}">{{item.chapter_name}}</paper-item>
          </template>    
          </paper-menu>
        </paper-dropdown-menu>
     </span> 
    
    </div>
   <div hidden$="{{hideinfoheader}}">
     <paper-input value="{{name}}" hidden></paper-input>
      <div id="empidzz" style="position: 
      absolute;margin-left: 5%;margin-top: 1.4%;">
        <label><b>Employee Name:</b></label>
     </div>
      <h4 style="margin-top: 1.3%;position: absolute;
      margin-left: 14%;text-transform:uppercase;">{{name}}</h4>
 

     <center>
        <paper-tabs selected="0"  style="margin-top: 5.3%; position: absolute;margin-left: 8%;width: 80%;color: #f1f703;background-color: #3558bb">
             <paper-tab on-click="Fnlessonplan">Lesson Plan</paper-tab>
             <paper-tab on-click="Fnteacingaid">Teaching Aids</paper-tab>
             <paper-tab on-click="Fnhomework">Home Work</paper-tab>
             <paper-tab on-click="Fnassesmenttype">Assesment Type</paper-tab>
             <paper-tab on-click="Fncomplete">Complete Status</paper-tab>
       </paper-tabs>
      </center>
      <br><br><br>
 </div>
<div class="plan">
  <template is="dom-repeat" items="{{lessonarr}}">
    <curriculum-lessonplan-card name sno='{{item.sno}}' id="ENR{{item.sno}}{{item.concept_id}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}" conceptname="{{item.concept_name}}" subconceptid="{{item.sub_concept_id}}" subconceptname="{{item.sub_concept_name}}" period="{{item.period}}" fromdate="{{item.planned_date_from}}" todate="{{item.planned_to_date}}" skill="{{item.skill}}" value="{{item.value}}" innovation="{{item.innovation}}"  coremarks="{{item.remarks}}"  hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}"  enrichmentsuggest="{{item.enrichment_sug}}" assesmentdate="{{item.assesment_date}}" teachingaid="{{item.teaching_aid}}" coremarks="{{item.remarks}}" fonts="{{item.fonts}}" subremak="{{item.sub_teacher_temark}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}">
   </curriculum-lessonplan-card>
  </template>
</div>
<div class="plan"> 
  <template is="dom-repeat" items="{{teacharr}}">

       <curriculum-teach-card fromdate="{{item.from_date}}" todate="{{item.to_date}}" conceptname="{{item.concept_name}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}"  hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}"  sno='{{item.sno}}' id="ENR{{item.sno}}{{item.concept_id}}" rowid="{{item.row_id}}"  link="{{item.link}}" filename="{{item.filename}}"  url="{{item.url}}" fonts="{{item.fonts}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}"></curriculum-teach-card>
    </template>
</div>
<div class="plan">
<template is="dom-repeat" items="{{homearr}}">
    <curriculum-home-card  homeaids="{{item.home_aids}}" fromdate="{{item.from_date}}" todate="{{item.to_date}}"  conceptname="{{item.concept_name}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}"  hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}"  sno='{{item.sno}}' id="ENR{{item.sno}}{{item.concept_id}}" rowid="{{item.row_id}}"  link="{{item.link}}" filename="{{item.filename}}" url="{{item.url}}" fonts="{{item.fonts}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}"></curriculum-home-card>
    </template>
</div>
<div class="plan">
<template is="dom-repeat" items="{{assesmentarr}}">
    <curriculum-assesment-card fromdate="{{item.planned_date_from}}" todate="{{item.planned_to_date}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" sno='{{item.sno}}'  id="ENR{{item.sno}}{{item.concept_id}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}" conceptname="{{item.concept_name}}" subconceptid="{{item.sub_concept_id}}" subconceptname="{{item.sub_concept_name}}"    assesmentdate="{{item.assesment_date}}" chaptername="{{item.chapter_name}}"    hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}"  fonts="{{item.fonts}}" assesmenttype="{{item.assesment_type}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}"></curriculum-assesment-card  >
  </template>
</div>  

<div class="plan">
<template is="dom-repeat" items="{{completearr}}">
     <curriculum-complete-card fromdate="{{item.planned_date_from}}" todate="{{item.planned_to_date}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" sno='{{item.sno}}'  id="ENR{{item.sno}}{{item.concept_id}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}" conceptname="{{item.concept_name}}" subconceptid="{{item.sub_concept_id}}" subconceptname="{{item.sub_concept_name}}" correctionstatus="{{item.correction_status}}" completionstatus="{{item.completion_status}}" completiondate="{{item.completion_date}}" hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}" fonts="{{item.fonts}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}"  check="{{view.check}}" ></curriculum-complete-card>
  </template>
</div>
 <!--<div class="zui-scroller">
   <table  class="report1" id="clsplnevalttttt">
  <tr>
  <th style="width: 4.7%;margin-left:4%;" class="zui-sticky-col1">SNO</th>
   <th style="width: 16.7%;margin-left:9%;" class="zui-sticky-col1">Concept</th>
      <th style="width: 15%;margin-left:26%;" class="zui-sticky-col1">Sub Concept</th>
          <th style="width: 11%;">#Periods</th>
          <th style="width: 11%;">Skill</th>
          <th style="width: 11%;">Assesmentdate</th>
          <th style="width: 11%;">Value</th>
          <th style="width: 11%;">Teaching Aids</th>
          <th style="width: 11%;">Innovation</th>
          <th style="width: 11%;">Plan From</th>
          <th style="width: 11%;">Plan To</th>
           <th style="width: 11%;">Assesment Status</th>
           <th style="width: 11%;">Remarks</th>
          <th style="width: 11%;">Co-Ordinator Remarks</th>
          <th style="width: 11%;">Correction Status</th>
          <th style="width: 11%;">Completion Date</th>
          <th style="width: 11%;">Completion Status</th>
          <th style="width: 11%;">Enrichment Suggestion</th>
          <th style="width: 11%;">Home Work</th>          
          <th style="width: 11%;"></th>  
   </tr>       
       <template is="dom-repeat" items="{{approvearr}}">
      <tr>
       <td  class="zui-sticky-col" style="width: 4.7%; margin-left: 4%;" >{{item.sno}}</td>
       <td  class="zui-sticky-col" style="width: 16.7%;margin-left: 9%;" >{{item.concept_name}}</td>
       <td  class="zui-sticky-col"  style="width: 15%;margin-left: 26%;" >{{item.sub_concept_name}}</td>
      <td>  
        <curriculum-plan-conceptapproval-itemcard assesmentcheckid='{{item.assesment_check_id}}' checkids='{{item.assesment_check_id}}' hometypeid='{{item.home_type_id}}' sno='{{item.sno}}' hometype='{{item.homework_type}}' id="ENR{{item.sno}}{{item.concept_id}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}" conceptname="{{item.concept_name}}" subconceptid="{{item.sub_concept_id}}" subconceptname="{{item.sub_concept_name}}" period="{{item.period}}" fromdate="{{item.planned_date_from}}" todate="{{item.planned_to_date}}" skill="{{item.skill}}" value="{{item.value}}" innovation="{{item.innovation}}" lr="{{item.lr_rectification}}" remarks="{{item.remarks}}" correctionstatus="{{item.correction_status}}" completionstatus="{{item.completion_status}}" hideflag="{{item.hideflag}}" hidetitleflag="{{item.hidetitleflag}}" completiondate="{{item.completion_date}}" enrichmentsug="{{item.enrichment_sug}}" assesmentdate="{{item.assesment_date}}" teachingaid="{{item.teaching_aid}}" coremarks="{{item.co_ordinator_remarks}}">          
            </curriculum-plan-conceptapproval-itemcard>        
          </td>  
            </tr>  
           </template>  
     </table> 
     </div>-->
    <teacher-book-service-card id="bookservice"></teacher-book-service-card>  
    <curriculum-assesment-service-card id="crriculambookservice"></curriculum-assesment-service-card>
  </template>
  <script>
  (function() {
    'use strict';
    Polymer({
      is: 'curriculum-plan-conceptapproval-card',     
       ready:function(){
        this.hideinfoheader=true;
      } ,
      
   Fnlessonplan:function(e){
      this.fnref();
    this.$.crriculambookservice.fngetlessonplanvalue();
      },
   Fnteacingaid:function(e){
      this.fnref();
    this.$.crriculambookservice.fngetteacingaids();
      },
      Fnhomework:function(e){
     this.fnref();
    this.$.crriculambookservice.fnhomework();
   },
    
  Fnassesmenttype:function(e){
      this.fnref();
    this.$.crriculambookservice.fnassesmenttypes();
    },
    Fncomplete:function(e){
      this.fnref();
    this.$.crriculambookservice.fncompletestatus();
  },
  fnref:function(e){
    this.lessonarr="";
    this.homearr="";
    this.completearr="";
    this.teacharr="";
    this.assesmentarr="";
    
  },
  FnSelectGrade:function(e){
        this.gradeid=e.target.selectedItem.value;
        this.gradename=e.target.selectedItem.textContent.trim();
        localStorage.setItem("curr_sess_gradeid",this.gradeid);
        localStorage.setItem("curr_sess_gradename",this.gradename);
        this.$.bookservice.fngetclassbooksectionvalue(this.gradeid);
        document.querySelector('#cpapprovalsection').selected=-1;
        document.querySelector('#cpapprovalsubject').selected=-1;
        document.querySelector('#cpapprovalchapter').selected=-1;
        document.querySelector('#chaptertermidggggg').selected=-1;
        
      //  this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
         this.hideinfoheader=true;
   this.fnref();
      },
      FnSelectSection:function(e){
        this.sectionidz=e.target.selectedItem.value;
        this.sectionidname=e.target.selectedItem.textContent.trim();
        localStorage.setItem("curr_sess_sectionid",this.sectionidz);
        localStorage.setItem("curr_sess_sectionname",this.sectionidname);
        this.$.bookservice.fngetclassbooksubjectvalue(this.gradeid,this.sectionidname);
        document.querySelector('#cpapprovalsubject').selected=-1;
        document.querySelector('#cpapprovalchapter').selected=-1;
         document.querySelector('#chaptertermidggggg').selected=-1;
        //this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
         this.hideinfoheader=true;
        this.fnref();
      },
      FnSelectSubject:function(e){
       this.subjectid=e.target.selectedItem.value;
       this.subjectname=e.target.selectedItem.textContent.trim();
       localStorage.setItem("curr_sess_subjectid",this.subjectid);
       localStorage.setItem("curr_sess_subjectname",this.subjectname);
     document.querySelector('#cpapprovalchapter').selected=-1;
      document.querySelector('#chaptertermidggggg').selected=-1;
     //  this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
         this.hideinfoheader=true;
       this.fnref();
      },
       Fnchaptertermid:function(e){
        this.termid=e.target.selectedItem.textContent.trim();
        sessionStorage.setItem("termid",this.termid);
     this.$.bookservice.fngetclassbookchaptervalue(this.gradeid,this.sectionidname,this.subjectid,this.termid); 
     document.querySelector('#cpapprovalchapter').selected=-1; 
   //  this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
         this.hideinfoheader=true;
      this.fnref();
      },
      FnSelectChapter:function(e){
       this.chapterid=e.target.selectedItem.value;
       this.chaptername=e.target.selectedItem.textContent.trim();
       localStorage.setItem("curr_sess_chapterid",this.chapterid); 
       localStorage.setItem("curr_sess_chaptername",this.chaptername); 
      // this.$.bookservice.fngetclassbookchapterconceptvalue(this.gradeid,this.sectionidz,this.sectionidname,this.subjectid,this.chapterid);
     this.$.bookservice.fetchalreadyapprovedchapterconcept(); 
       // this.$.clsplnevalttttt.hidden=false;
       this.$.empidzz.hidden=false;
       this.hideinfoheader=false;
      this.fnref();
        },
     FnRefreshzzz:function()
      {
        document.querySelector('#cpapprovalgrade').selected=-1;
        document.querySelector('#cpapprovalsection').selected=-1;
        document.querySelector('#cpapprovalsubject').selected=-1;
        document.querySelector('#cpapprovalchapter').selected=-1;
         document.querySelector('#chaptertermidggggg').selected=-1;
     //   this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
        this.approvearr="";
        this.hideinfoheader=true;
        this.fnref();
      }
    });
  })();
  </script>
</dom-module>
