
<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="curriculum-plan-conceptapproval-card">
  <template>
    <style>
      :host {
        display: block;
      }
      .position{   
        margin-left:5%;
      }
      #tb1{
        width:15%
      }
      #tb2{
        width:35%
      }
      #tb3{
        width:10% 
      }
      #itemcard:nth-child(odd) {
        background-color: white; 
      }
      #itemcard:nth-child(even) {
        background-color: #f1f1f1;
      }
      #itemcard{
        width: 80%;
        margin-left: 11%;  
      }
      .plan{
      margin-top: 8.3%;
      position: relative;
      width: 95%;
     
        },

      .report1
      {
          table-layout: fixed;
          border-collapse: collapse;
          width: 1921px;
          margin-top: 5%;
      }
          .zui-scroller {
    margin-left: 531.1px;
    overflow-x: scroll;
    overflow-y: visible;
    padding-bottom: 5px;
    width: 847px;
}
  .zui-sticky-col1 {
      left: 0;
      position: absolute;
      top: auto;
      height: 5.4%;
  }
.zui-sticky-col {
  
    left: 0;
    position: absolute;
    top: auto;
 height: 24.1%;
   
}#itemcard1:nth-child(odd) {
        background-color: white;
      }
 #itemcard1:nth-child(even) {
        background-color: #f1f1f1;
      }
        #dynamicspinneree11{
      margin: 0;
      padding: 0;
      border: none;
      background-color: transparent;
    }
paper-tab{
  margin-left: -2%;
}
th,td{
    border-left: 1px solid #ddd;
     border-right: 1px solid #ddd;
     border-bottom: 1px solid #ddd;
     border-top: 1px solid #ddd;
     }
      paper-dropdown-menu
      {
        --paper-input-container-label: { color: red };
        text-align:center;
      }
    </style>

    <div style="margin-left: -3%;">
      <span class="position"> 
        <paper-dropdown-menu  label="Select the Grade">
          <paper-menu id="cpapprovalgrade" class="dropdown-content"   on-iron-select="FnSelectGrade">
            <template is="dom-repeat" items="{{gradearr}}">
            <paper-item value="{{item.gradeid}}">{{item.gradename}}</paper-item>
            </template>    
          </paper-menu>
        </paper-dropdown-menu>
      </span>
      <span class="position"> 
        <paper-dropdown-menu  label="Select Section">
          <paper-menu id="cpapprovalsection" class="dropdown-content"  on-iron-select="FnSelectSection">
            <template is="dom-repeat" items="{{sectionarr}}">
            <paper-item value="{{item.class_id}}">{{item.section_name}}</paper-item>
            </template>    
          </paper-menu>
        </paper-dropdown-menu>
      </span>  
      <span class="position">    
        <paper-dropdown-menu  label="Select Subject">
          <paper-menu id="cpapprovalsubject" class="dropdown-content"   on-iron-select="FnSelectSubject">
            <template is="dom-repeat" items="{{subjectarr}}">
            <paper-item value="{{item.subject_id}}">{{item.subject_name}}</paper-item>
            </template>    
          </paper-menu>
        </paper-dropdown-menu>
      </span>  
        <span class="position"> 
         <paper-dropdown-menu id="term" label="Select Term">
           <paper-menu id="chaptertermidggggg" class="dropdown-content"   on-iron-select="Fnchaptertermid" attr-for-selected="value" required>
                <paper-item value="term1">Term1</paper-item>
                <paper-item value="term2">Term2</paper-item>
                <paper-item value="term3">Term3</paper-item>
            </paper-menu>
          </paper-dropdown-menu>
       </span>    
      <span class="position"> 
        <paper-dropdown-menu  label="Select the chapter">
          <paper-menu id="cpapprovalchapter" class="dropdown-content"   on-iron-select="FnSelectChapter">
          <template is="dom-repeat" items="{{chapterarr}}">
          <paper-item value="{{item.chapter_id}}">{{item.chapter_name}}</paper-item>
          </template>    
          </paper-menu>
        </paper-dropdown-menu>
     </span> 
    
    </div>
   <div hidden$="{{hideinfoheader}}">
     <paper-input value="{{name}}" hidden></paper-input>
      <div id="empidzz" style="position: 
      absolute;margin-left: 5%;margin-top: 1.4%;">
        <label><b>Employee Name:</b></label>
     </div>
      <h4 style="margin-top: 1.3%;position: absolute;
      margin-left: 14%;text-transform:uppercase;">{{name}}</h4>
 

     <center>
      <paper-tabs selected="0"  style="margin-top: 5.3%;position: absolute;width: 104%;color:#ef2d0bfa;"  >
             <paper-tab on-click="Fnlessonplan"><h4>LESSON PLAN</h4></paper-tab>
             <paper-tab on-click="Fncomplete"><h4>SKILL/VALUE</h4></paper-tab>
             <paper-tab on-click="Fnteacingaid"><h4>TEACHING AIDS</h4></paper-tab>
             <paper-tab on-click="Fnhomework"><h4>HOME WORK</h4></paper-tab>
             <paper-tab on-click="Fnassesmenttype"><h4>ASSESMENT TYPE</h4></paper-tab>
             
       </paper-tabs>
      </center>
      <br><br><br>
 </div>
 <center>
<div class="plan">
  <template is="dom-repeat" items="{{lessonarr}}">
    <div id="itemcard1">  <curriculum-lessonplan-card  sno='{{item.sno}}' id="ENR{{item.sno}}{{item.row_id}}{{chapter_id}}"   chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}" conceptname="{{item.concept_name}}" subconceptid="{{item.sub_concept_id}}" subconceptname="{{item.sub_concept_name}}" period="{{item.period}}" fromdate="{{item.planned_date_from}}" todate="{{item.planned_to_date}}" skill="{{item.skill}}" value="{{item.value}}" innovation="{{item.innovation}}"  hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}"  enrichmentsuggest="{{item.enrichment_sug}}" assesmentdate="{{item.assesment_date}}" teachingaid="{{item.teaching_aid}}" coremarks="{{item.remarks}}" fonts="{{item.fonts}}" subremak="{{item.remarks1}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}">
   </curriculum-lessonplan-card> </div>
  </template>
 
</div>
<div class="plan"> 
  <template is="dom-repeat" items="{{teacharr}}">

      <div id="itemcard1">   <curriculum-teach-card teachtemparr="{{item.teachtemparr}}"   fromdate="{{item.from_date}}" todate="{{item.to_date}}" conceptname="{{item.concept_name}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}"  hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}"  sno='{{item.sno}}' id="ENR{{item.sno}}{{item.row_id}}{{chapter_id}}" rowid="{{item.row_id}}"  link="{{item.link}}" filename="{{item.filename}}"  url="{{item.url}}" fonts="{{item.fonts}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}" hidefilename="{{item.hidefilename}}" subconceptname="{{item.sub_concept_name}}" ></curriculum-teach-card></div>
    </template>
</div>
<div class="plan">
<template is="dom-repeat" items="{{homearr}}">
    <div id="itemcard1"> 
          <curriculum-home-card  link="{{item.homecurrurl}}" hometemparr="{{item.hometemparr}}" homeaids="{{item.home_aids}}" fromdate="{{item.from_date}}" todate="{{item.to_date}}"  conceptname="{{item.concept_name}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}"  hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}"  sno='{{item.sno}}' id="ENR{{item.sno}}{{item.row_id}}{{chapter_id}}" rowid="{{item.row_id}}"  link="{{item.link}}" filename="{{item.filename}}" url="{{item.url}}" fonts="{{item.fonts}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}" hidefilename="{{item.hidefilename}}" subconceptname="{{item.sub_concept_name}}" >
        </curriculum-home-card>
      </div>
    </template>
</div>
<div class="plan">
<template is="dom-repeat" items="{{assesmentarr}}" >

    <div id="itemcard1">  <curriculum-assesment-card  skill="{{item.skill}}" value="{{item.value}}" innovation="{{item.innovation}}"  coremarks="{{item.remarks}}" period="{{item.period}}" fromdate="{{item.planned_date_from}}" todate="{{item.planned_to_date}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" sno='{{item.sno}}'  id="ENR{{item.sno}}{{item.row_id}}{{chapter_id}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}" conceptname="{{item.concept_name}}" subconceptid="{{item.sub_concept_id}}" subconceptname="{{item.sub_concept_name}}"    assesmentdate="{{item.assesment_date}}" chaptername="{{item.chapter_name}}"    hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}"  fonts="{{item.fonts}}" assesmenttype="{{item.assesment_type}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}"  correctionstatus="{{item.correction_status}}" completionstatus="{{item.completion_status}}" completiondate="{{item.completion_date}}" editvalue="{{item.editvalue}}" ></curriculum-assesment-card></div>
  </template>
</div>  

<div class="plan">
<template is="dom-repeat" items="{{completearr}}">
    <div id="itemcard1">  <curriculum-complete-card fromdate="{{item.planned_date_from}}" todate="{{item.planned_to_date}}"  chapterid="{{item.chapter_id}}" chaptername="{{item.chapter_name}}" sno='{{item.sno}}'  id="ENR{{item.sno}}{{item.rowid}}{{item.chapter_id}}" rowid="{{item.row_id}}" conceptid="{{item.concept_id}}" conceptname="{{item.concept_name}}" subconceptid="{{item.sub_concept_id}}" subconceptname="{{item.sub_concept_name}}" correctionstatus="{{item.correction_status}}" completionstatus="{{item.completion_status}}" completiondate="{{item.completion_date}}" hidecloseplan="{{item.hidecloseplan}}" hideopenplan="{{item.hideopenplan}}" fonts="{{item.fonts}}" hideinfovalue="{{item.hideinfovalue}}" hideinfovalue1="{{item.hideinfovalue1}}"  check="{{view.check}}" skill="{{item.skill}}" value="{{item.value}}" innovation="{{item.innovation}}"  coremarks="{{item.remarks}}"  period="{{item.period}}"></curriculum-complete-card></div>
  </template>
</div>
</center> 
    <teacher-book-service-card id="bookservice"></teacher-book-service-card>  
    <curriculum-assesment-service-card id="crriculambookservice"></curriculum-assesment-service-card>
     <div class="spinner"><paper-dialog modal id="dynamicspinneree11" entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop><paper-spinner active></paper-spinner></paper-dialog></div>
  </template>
  <script>
  (function() {
    'use strict';
    Polymer({
      is: 'curriculum-plan-conceptapproval-card',     
       ready:function(){
        this.hideinfoheader=true;
      } ,
      
   Fnlessonplan:function(e){
      this.fnref();
    this.$.crriculambookservice.fngetlessonplanvalue();
      },
   Fnteacingaid:function(e){
      this.fnref();
    this.$.crriculambookservice.fngetteacingaids();
      },
      Fnhomework:function(e){
     this.fnref();
    this.$.crriculambookservice.fnhomework();
   },
    
  Fnassesmenttype:function(e){
      this.fnref();
    this.$.crriculambookservice.fnassesmenttypes();
    },
    Fncomplete:function(e){
      this.fnref();
    this.$.crriculambookservice.fncompletestatus();
  },
  fnref:function(e){
    this.lessonarr="";
    this.homearr="";
    this.completearr="";
    this.teacharr="";
    this.assesmentarr="";
    
  },
  FnSelectGrade:function(e){
        this.gradeid=e.target.selectedItem.value;
        this.gradename=e.target.selectedItem.textContent.trim();
        localStorage.setItem("curr_sess_gradeid",this.gradeid);
        localStorage.setItem("curr_sess_gradename",this.gradename);
        this.$.bookservice.fngetclassbooksectionvalue(this.gradeid,this.gradename);
        document.querySelector('#cpapprovalsection').selected=-1;
        document.querySelector('#cpapprovalsubject').selected=-1;
        document.querySelector('#cpapprovalchapter').selected=-1;
        document.querySelector('#chaptertermidggggg').selected=-1;
        
      //  this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
         this.hideinfoheader=true;
   this.fnref();
      },
      FnSelectSection:function(e){
        this.sectionidz=e.target.selectedItem.value;
        this.sectionidname=e.target.selectedItem.textContent.trim();
        localStorage.setItem("curr_sess_sectionid",this.sectionidz);
        localStorage.setItem("curr_sess_sectionname",this.sectionidname);
        this.$.bookservice.fngetclassbooksubjectvalue(this.gradeid,this.sectionidname);
        document.querySelector('#cpapprovalsubject').selected=-1;
        document.querySelector('#cpapprovalchapter').selected=-1;
         document.querySelector('#chaptertermidggggg').selected=-1;
        //this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
         this.hideinfoheader=true;
        this.fnref();
      },
      FnSelectSubject:function(e){
       this.subjectid=e.target.selectedItem.value;
       this.subjectname=e.target.selectedItem.textContent.trim();
       localStorage.setItem("curr_sess_subjectid",this.subjectid);
       localStorage.setItem("curr_sess_subjectname",this.subjectname);
     document.querySelector('#cpapprovalchapter').selected=-1;
      document.querySelector('#chaptertermidggggg').selected=-1;
     //  this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
         this.hideinfoheader=true;
       this.fnref();
      },
       Fnchaptertermid:function(e){
        this.termid=e.target.selectedItem.textContent.trim();
        sessionStorage.setItem("termid",this.termid);
     this.$.bookservice.fngetclassbookchaptervalue(this.gradeid,this.sectionidname,this.subjectid,this.termid); 
     document.querySelector('#cpapprovalchapter').selected=-1; 
   //  this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
         this.hideinfoheader=true;
      this.fnref();
      },
      FnSelectChapter:function(e){
       this.chapterid=e.target.selectedItem.value;
       this.chaptername=e.target.selectedItem.textContent.trim();
       localStorage.setItem("curr_sess_chapterid",this.chapterid); 
       localStorage.setItem("curr_sess_chaptername",this.chaptername); 
      // this.$.bookservice.fngetclassbookchapterconceptvalue(this.gradeid,this.sectionidz,this.sectionidname,this.subjectid,this.chapterid);
     this.$.bookservice.fetchalreadyapprovedchapterconcept(); 
     this.$.crriculambookservice.fngetlessonplanvalue();

       // this.$.clsplnevalttttt.hidden=false;
       this.$.empidzz.hidden=false;
       this.hideinfoheader=false;
      this.fnref();
        },
     FnRefreshzzz:function()
      {
           document.querySelector('#cpapprovalgrade').selected=-1;
           document.querySelector('#cpapprovalsection').selected=-1;
           document.querySelector('#cpapprovalsubject').selected=-1;
           document.querySelector('#cpapprovalchapter').selected=-1;
           document.querySelector('#chaptertermidggggg').selected=-1;
          //this.$.clsplnevalttttt.hidden=true;
        this.name="";
        this.$.empidzz.hidden=true;
        this.approvearr="";
        this.hideinfoheader=true;
        this.fnref();
      },
        FnToggleSpinner:function(flag){
        //alert(flag);
        this.$.dynamicspinneree11.opened=flag;
       },
    });
  })();
  </script>
</dom-module>
