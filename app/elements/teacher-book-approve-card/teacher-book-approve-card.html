

<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<dom-module id="teacher-book-approve-card">
  <template>
    <style>
      :host {   
        display: block;
      }
    

  .position{
    margin-left: 6%;
  
   }
  
   .report1
   {
          table-layout: fixed;
          border-collapse: collapse;
          width: 1901px;
          /*margin-left: 5%;*/
          margin-top: 5%;
          /*border-style: none solid none solid;*/
   }
   th,td{
   border-left: 1px solid #ddd;
    border-right: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
      border-top: 1px solid #ddd;
     }
  

  
    paper-dropdown-menu{
      width: 15%;
      --paper-input-container-label: { color: red };
      text-align:center;
      }
      paper-input
      {
        --paper-input-container-label: { color: red };
      text-align:center;
      }
      
     

       #bufferdialog
       {
         border-radius: 10px;
       }

        #planspinxyz
       {
          height: 100%;
          width: 100%;
          position: fixed;
          background-color: #000;
          bottom: 0; 
          left: 0; 
          opacity: 0.7; 
          right: 0; 
          top: 0; 
          z-index: 10000;
          margin: 0 auto;
          text-align: center;
        }
        #planningspinnerwxy
        {
          margin: 20% auto;
          text-align: center;
         width: 100px;
         height: 100px;
        }
        paper-dialog > 
        {
          margin-top: 50px;
        }
        .zui-scroller {
   margin-left: 311.1px;
    overflow-x: scroll;
    overflow-y: hidden;
    padding-bottom: 5px;
    width: 1013px;
}
 
  .zui-sticky-col1 {
      left: 0;
      position: absolute;
      top: auto;
    
  }
.zui-sticky-col {
    left: 0;
    position: absolute;
    top: auto;
    height:9.2%;
   
}
}
th{
 background-color:#ccebff;  
}


     </style>  
     <div>
    <center><h2 hidden style="color:#00ccff">{{empnamez}}</h2></center>
     <paper-input hidden value="{{empnamez}}"></paper-input>
       
       
       <span class="position" hidden$="{{hideallvaluesss}}"> 
       <paper-dropdown-menu  label="Select The Grade">
                <paper-menu id="teacherrefffff" class="dropdown-content"   on-iron-select="fnsetgrade">
                  <template is="dom-repeat" items="{{gradearr}}">
                    <paper-item value="{{item.gradeid}}">{{item.gradename}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>
     
       <span class="position" hidden$="{{hideallvaluesss}}"> 
       <paper-dropdown-menu  label="Select the subject">
              <paper-menu id="teacherrefzz" class="dropdown-content"   on-iron-select="fnsetsubject">
                   <template is="dom-repeat" items="{{subjectarrrr}}">
                    <paper-item value="{{item.subjectid}}">{{item.subject_name}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>

       <span class="position"  hidden$="{{hideallvaluesss}}"> 
         <paper-dropdown-menu id="term" label="Select Term">
           <paper-menu id="chaptertermidfffff" class="dropdown-content"   on-iron-select="Fnchaptertermid" attr-for-selected="value" required>
                <paper-item value="Term1">Term1</paper-item>
                <paper-item value="Term2">Term2</paper-item>
                <paper-item value="Term3">Term3</paper-item>
            </paper-menu>
          </paper-dropdown-menu>
       </span>
       <span class="position" hidden$="{{hideallvaluesss}}"> 
       <paper-dropdown-menu  label="Select the chapter">
              <paper-menu id="teacherapprovechapter" class="dropdown-content"   on-iron-select="fnselectchapter">
                   <template is="dom-repeat" items="{{chapterarr}}">
                   <paper-item value="{{item.capter_id}}">{{item.capter}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>
       
<paper-button style="color:white;background-color:black;margin-left: 3%;" on-click="fnaddbuffer">Add Buffer period</paper-button>  
<!--  <div style="position: relative;overflow-x: hidden;overflow-y: scroll;  height: 442px;">  -->
 


 <div id="zdsasddsasfsa" class="zui-scroller">
      <table class="report1" id="reporttabzzzzz">
       
       <tr>
          <th style="width: 3%; margin-left: 6%;" class="zui-sticky-col1">S.NO</th>
          <th style="width: 14.3%; margin-left: 9.2%;" class="zui-sticky-col1">Concept</th>
          <th style="width: 17%;">Work schdule</th>
          <th style="width: 6%;">#Periods</th>
          <th style="width: 10.9%;">Plan From</th>
          <th style="width: 10.9%;">Plan To</th>
          <th style="width: 10.9%;">Assesment Date</th>
          <th style="width: 10.9%;">Home Work</th>
          <th style="width: 10.9%;">Skill</th>
         <!--  <th style="width: 10.9%;">Home Aids</th> -->
          <th style="width: 10.9%;">Value</th>
          <th style="width: 10.9%;">Teaching Aids</th>
          <th style="width: 10.9%;">Innovation</th>
          <th style="width: 10.9%;">Remark</th>
          <th style="width: 4.6%;"></th>
      </tr>  
   
  <template  is="dom-repeat" items="{{overallarr1}}" as="view">
   <tr> 
       <td class="zui-sticky-col" style="width:3%;margin-left:6%;">{{view.sno}}</td>
        <td class="zui-sticky-col" style="width:14.3%;margin-left:9.2%;">
          <aproval-book-concept-card conceptzz="{{conceptzz}}"  hidecheck="{{view.hidecheck}}" conceptid="{{view.concept_id}}" conceptname="{{view.concept_name}}" hidecheck1="{{view.hidecheck1}}"  rowidz="{{view.rowidz}}" iddate="{{view.id_date}}" rowid="{{view.rowid}}"  sno="{{view.sno}}" plannedtoate="{{view.planned_to_date}}" id="{{view.id_date}}{{view.rowid}}{{view.sno}}">
         </aproval-book-concept-card >
       </td>
      <td>  
             
           <aproval-book-innovatiosn-item-card hometemparr="{{view.hometemparr}}" teachtemparr="{{view.teachtemparr}}" currenttechtemp="{{currenttechtemp}}" currenthometemp="{{currenthometemp}}"  homecurrurl="{{view.homecurrurl}}" currurl="{{view.currurl}}" assesmentdate="{{view.assesmentdate}}" homework="{{view.homework}}" rowid="{{view.rowid}}" remark="{{view.remarks}}" period="{{view.period}}" planneddate="{{view.planned_date_from}}" skill="{{view.skill}}" innovation="{{view.innovation}}" iddate="{{view.id_date}}" hidecheck="{{view.hidecheck}}" hidecheck11="{{view.hidecheck11}}"  hidecheck1="{{view.hidecheck1}}"  rowidz="{{view.rowidz}}" values="{{view.value}}" conceptid="{{view.concept_id}}" conceptname="{{view.concept_name}}" subconceptid="{{view.sub_concept_id}}" subconceptname="{{view.sub_concept_name}}" teachingaid="{{view.teaching_aid}}" sno="{{view.sno}}" bldvaluename="{{view.bld_value_name}}" plannedtoate="{{view.planned_to_date}}" id="{{view.id_date}}{{view.rowid}}{{view.sno}}" homeaids="{{view.homeaids}}"> 
          </aproval-book-innovatiosn-item-card>
         </td>
          </tr> 
        </template>    
      </table>
    </div>
  <!--  </div> -->
   <paper-dialog id="bufferdialog" modal>
        <div>
          <paper-icon-button icon="close" suffix on-click="bufferclose" style="float: right;position: fixed;margin-left: 21%;margin-top: -2%;"></paper-icon-button>
        </div>
      <paper-checkbox id="Chaperzzzzidzz" on-change="fnchapter">After Last Row</paper-checkbox>
      <paper-checkbox id="Conceptzzzidzz" on-change="fnconceptzz">After Which Row</paper-checkbox>
        <div  hidden$="{{chaptbuffidz}}">
      <paper-input label="Enter Buffer period" value="{{bufferperiod}}" allowed-pattern="[0-9]"></paper-input>
      </div>
      <div  hidden$="{{Conceptbuffidz}}">
      <paper-input label="Which row after??" value="{{periodafter}}"></paper-input>
        <paper-input label="Enter Buffer period" value="{{bufferperiod}}"></paper-input>
     
        </div>
        <center> 
         <div></div>
        <paper-button id="sub11" on-click="fnconsubmit" style="color:white;background-color:black">Submit</paper-button>
        <paper-button id="sub2222" on-click="fncaptsubmit"  style="color:white;background-color:black">Submit</paper-button>
        <paper-button id="cls111" on-click="fnclose" style="color:white;background-color:black">Close</paper-button></center>
     </paper-dialog>

     <paper-dialog id="planspinxyz">
       <paper-spinner id="planningspinnerwxy"></paper-spinner>
     </paper-dialog>

     <paper-dialog id="savedialog">
       <label>Success</label>
       <center>
         <paper-button on-click="closedialog">OK</paper-button>
       </center>
     </paper-dialog>
    <teacher-book-service-card id="bookservice"></teacher-book-service-card>
  
    </div>
  </template>


  <script>
  (function() {
    'use strict';
   var conceptidz;
   var conceptnamez;
    
    Polymer({
      is: 'teacher-book-approve-card',
        fnhide:function()
        {
             Conceptzzzidzz.checked=false;
             Chaperzzzzidzz.checked=false;
             this.Conceptbuffidz=true;
             this.chaptbuffidz=true;
             this.$.sub11.hidden=true;
             this.$.sub2222.hidden=true;
             this.$.cls111.hidden=true;
         },
        fncaptsubmit:function(e){
         this.$.bookservice.buffset(this.bufferperiod,this.periodafter);
          // this.$.bookservice.buffset11(this.bufferperiod,this.periodafter);
          // this.$.bookservice.subflagseqe();
          this.bufferperiod="";
          this.periodafter="";
          this.$.bufferdialog.toggle();
        },
        fnconsubmit:function(e)
        {
         //alert(this.bufferperiod);      
            this.periodafter=-1;
         this.$.bookservice.buffset(this.bufferperiod,this.periodafter);
            this.bufferperiod="";
            this.periodafter="";
            // this.$.bookservice.subflagseqe();
            this.$.bufferdialog.toggle();
        },
    fnchapter:function(e){
          //alert(Chaperzzzzidzz.checked);
          if(Chaperzzzzidzz.checked==true)
          {
            Conceptzzzidzz.checked=false;
            this.$.sub11.hidden=false;
            this.$.sub2222.hidden=true;
            this.$.cls111.hidden=false;
            this.Conceptbuffidz=true;
            this.chaptbuffidz=false;
          }

        },
        fnconceptzz:function(e){
    if(Conceptzzzidzz.checked==true)
          {
            Chaperzzzzidzz.checked=false;
            this.Conceptbuffidz=false;
            this.chaptbuffidz=true;
            this.$.sub11.hidden=true;
            this.$.sub2222.hidden=false;
            this.$.cls111.hidden=false;
          }
        },
       
        fnclose:function()
        {
          this.$.bufferdialog.close();
          Chaperzzzzidzz.checked=false;
          Conceptzzzidzz.checked=false;
          this.chaptbuffidz=true;
          this.Conceptbuffidz=true;
        },
    fnsetval:function(e)
        {
   
        },
 fnaddbuffer:function(e){
  this.$.bufferdialog.toggle();
  this.$.bookservice.subflagseqe();


 },
/*fnpassarr:function(arr){
document.querySelector('aproval-book-innovatiosn-item-card').currenthometemp=arr;

},*/
     asdadczcsadcdas:function(e){
     document.querySelector('#asdadczcsadcdasww').selected=-1;
 
   },
  fnsetgrade:function(e)
  {
    this.gradeid=e.target.selectedItem.value;
      sessionStorage.setItem("grdeidz",this.gradeid);
     this.gradename=e.target.selectedItem.textContent.trim();
        localStorage.setItem("curr_sess_gradeid",this.gradeid);
        localStorage.setItem("curr_sess_gradename",this.gradename);
      this.$.bookservice.bookrefsubject(this.gradeid,this.gradename);
      document.querySelector('#teacherrefzz').selected=-1;
        document.querySelector('#teacherapprovechapter').selected=-1;
        document.querySelector('#chaptertermidfffff').selected=-1;
        this.$.zdsasddsasfsa.hidden=true;
  }, 
     fnselectchapter:function(e)
     {
      
      this.chapterid=e.target.selectedItem.value;
      this.chaptername=e.target.selectedItem.textContent.trim();
      localStorage.setItem("curr_sess_capters",this.chapterid);
      localStorage.setItem("curr_sess_chapterid",this.chapterid); 
      localStorage.setItem("curr_sess_chaptername",this.chaptername); 

      this.$.bookservice.FnFetchConceptService(this.gradeid,this.subjectid,this.chapterid,this.termid);

      this.$.zdsasddsasfsa.hidden=false;
      this.overallarr1="";
      this.$.bookservice.conceptseq();
       //document.querySelector('concept-check-card').fnclean();
       
     
      document.querySelector('skill-dialog-card').FnRefreshhhh();
      document.querySelector('aproval-book').newRefreshkmdddd();
      document.querySelector('aproval-book-innovatiosn-item-card').allrefesh();
      document.querySelector('subconcept-dialog-card').fnrefreshhccc();
      document.querySelector('concept-check-card').fnRefreshzyz();
      document.querySelector('subconcept-dialog-card').fnrefreshhccc();
    //  document.querySelector('from-book-date-picker').FnClearrrtyz();
      
       },
   fnsetsubject:function(e){
       this.subjectid=e.target.selectedItem.value;
       this.subjectname=e.target.selectedItem.textContent.trim();
       sessionStorage.setItem("subjectidz",this.subjectid);
       localStorage.setItem("curr_sess_subjectid",this.subjectid);
       localStorage.setItem("curr_sess_subjectname",this.subjectname);
        
        document.querySelector('#teacherapprovechapter').selected=-1;
        document.querySelector('#chaptertermidfffff').selected=-1;
        this.$.zdsasddsasfsa.hidden=true;
      },
       Fnchaptertermid:function(e){
        this.termid=e.target.selectedItem.textContent.trim();
        sessionStorage.setItem("termid",this.termid);
      this.$.bookservice.FnFetchChapterService(this.gradeid,this.subjectid,this.termid);
       document.querySelector('#teacherapprovechapter').selected=-1;
       this.$.zdsasddsasfsa.hidden=true;
    }, 
    fnRefresh:function()
     {
        document.querySelector('#teacherrefffff').selected=-1;
        document.querySelector('#teacherrefzz').selected=-1;
        document.querySelector('#teacherapprovechapter').selected=-1;
         document.querySelector('#chaptertermidfffff').selected=-1;
         this.$.zdsasddsasfsa.hidden=true;
     },
FnRefresh:function()
     {
        document.querySelector('#teacherrefffff').selected=-1;
        document.querySelector('#teacherrefzz').selected=-1;
        document.querySelector('#teacherapprovechapter').selected=-1;
         document.querySelector('#chaptertermidfffff').selected=-1;
         this.$.zdsasddsasfsa.hidden=true;
     },

     planningcloseddd:function()
     {
     
        this.$.planningspinnerwxy.active=false;
        document.querySelector('#planspinxyz').close();
     },
     planningopenddd:function()
     {
        
        
        document.querySelector('#planspinxyz').open();
        this.$.planningspinnerwxy.active=true;
     },
     bufferclose:function()
     {
      this.$.bufferdialog.close();
      Conceptzzzidzz.checked=false;
      Chaperzzzzidzz.checked=false;
      this.Conceptbuffidz=true;
      this.chaptbuffidz=true;
      this.$.sub11.hidden=true;
      this.$.sub2222.hidden=true;
      this.$.cls111.hidden=true;
     },
     Passheadervalue:function(ssss,ids){
document.querySelector('aproval-book-innovatiosn-item-card').Editpassvalue(ssss,ids);
     },
fnclosevalue:function(homeurl,id){

document.querySelector('aproval-book-innovatiosn-item-card').Editpasscurrvalue(homeurl,id);

     },


 Passteachvalue:function(value,id){
document.querySelector('aproval-book-innovatiosn-item-card').Editteachvalue(value,id);
     },
fnteachclosevalue:function(value,id){

document.querySelector('aproval-book-innovatiosn-item-card').teachclosevalue(value,id);

     },


     fnchaperrefersh:function(e){
 this.$.bookservice.FnFetchConceptService(this.gradeid,this.subjectid,this.chapterid,this.termid);
//alert("22");
      this.$.zdsasddsasfsa.hidden=false;
      this.overallarr1="";
      this.$.bookservice.conceptseq();
      
      document.querySelector('concept-check-card').fnRefreshzyz();
      document.querySelector('skill-dialog-card').FnRefreshhhh();
      document.querySelector('aproval-book').newRefreshkmdddd();
      document.querySelector('aproval-book-innovatiosn-item-card').allrefesh();
      document.querySelector('subconcept-dialog-card').fnrefreshhccc();
     },


    
    });
  })();
  </script>
</dom-module>