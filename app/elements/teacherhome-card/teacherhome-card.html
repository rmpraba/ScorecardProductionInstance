<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/paper-button/paper-button.html">
<link rel="import" href="..\..\bower_components/neon-animation/web-animations.html">
<link rel="import" href="..\..\bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="..\..\bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-listbox/paperday-listbox.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu-light/paper-dropdown-menu-light.html">
<link rel="import" href="../beginner-assesment-service/beginner-assesment-service.html">
<link rel="import" href="../term-assesment-service/term-assesment-service.html">
<link rel="import" href="../scorecard-service/scorecard-service.html">
<link rel="import" href="../student-report-service/student-report-service.html">
<link rel="import" href="../employee-report-service/employee-report-service.html">
<link rel="import" href="../teacher-book-service-card/teacher-book-service-card.html">

<dom-module id="teacherhome-card">
  <template>
    <style>
    .container{
        width: 100%;
        @apply(--layout-horizontal);
        @apply(--layout-center-justified);
      }
    .homecontainer{
        @apply(--layout-horizontal);
        @apply(--layout-center-justified);
        width: 100%;
       
      }
    .imgcard{
        width: 33.3%;
      }
    .innercard{
      @apply(--layout-horizontal);
      @apply(--layout-center-justified);
      @apply(--layout-wrap);
      }
    </style>
    <div class="homecontainer">
    <div  class="innercard">
    <template is="dom-repeat" items="{{menuarr}}">
       <imageicon-card submenu="{{item.submenu}}" menuid="{{item.menu_id}}" menuname="{{item.menu_name}}" functionname="{{item.function_name}}" imagename="{{item.image_name}}" imagelabel="{{item.image_label}}"></imageicon-card>
    </template>
    </div>
    </div>

    <div class="cdialog"  >      
      <paper-dialog id="cdialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation" modal>
         <paper-dropdown-menu id="academicyear" label="Select Academic Year" disabled="{{read}}" required>
          <paper-menu id="academicyr" class="dropdown-content"  on-iron-select="FnSelectacademicyear"  attr-for-selected="value" required>  
          <template is="dom-repeat" items="{{academicarr}}">
           <paper-item value="{{item.year}}">{{item.year}}</paper-item>   
          </template>
         </paper-menu>
          </paper-dropdown-menu>
      </paper-dialog>
    </div>
    <div class="dialog" >      
      <paper-dialog id="dialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation" modal>
          <paper-dropdown-menu id="term" label="Select Term" disabled="{{read}}" required>
            <paper-menu id="termtype" class="dropdown-content" on-iron-select="FnSelectTerm" attr-for-selected="value" selected="{{selectterm}}">
              <template is="dom-repeat" items="{{termarr}}">
                <paper-item value="{{item.term_name}}">{{item.term_name}}</paper-item>
              </template>
            </paper-menu>
          </paper-dropdown-menu>
      </paper-dialog>
    </div>
    
    <div class="dialog">      
      <paper-dialog id="schooldialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
          <paper-dropdown-menu id="term" label="Select School" disabled="{{read}}" required>
            <paper-menu id="schoolname" class="dropdown-content" on-iron-select="FnSelectSchool" attr-for-selected="value" selected="{{selectschool}}">
              <template is="dom-repeat" items="{{schoolarr}}">
                <paper-item value="{{item.id}}">{{item.name}}</paper-item>
              </template>
            </paper-menu>
          </paper-dropdown-menu>
      </paper-dialog>
    </div>
   
    <term-assesment-service id="assesmentservice"></term-assesment-service>
    <beginner-assesment-service id="bassesmentservice"></beginner-assesment-service>
    <scorecard-service id="scorecardservice"></scorecard-service>
    <teacher-observation_service id="observerservice"></teacher-observation_service>
    <master-ui-service id="uiservice"></master-ui-service> 
    <mapping-service id="mappingservice"></mapping-service>
    <employee-report-service id="empservice"></employee-report-service>
    <student-report-service id="reportservice"></student-report-service>
    <teacher-book-service-card id="bookservice"></teacher-book-service-card>
    <student-add-service id="studservice"></student-add-service>
    <single-student-markentry-service id="singleservice"></single-student-markentry-service>
    <student-term-comparison-report-service id="comparisonservice"></student-term-comparison-report-service>
    <master-term-mapping-ui-service id="mastertermservice"></master-term-mapping-ui-service>
    <reportcard-option-service id="reportcardoptionservice"></reportcard-option-service>
    <enrichment-service id='enrichmentservice'></enrichment-service>
  </template>
  <script>
  (function() {
    'use strict';
    var academicyear;
    Polymer({
      is: 'teacherhome-card',
      ready:function(){

      },
      functionName:function(menuid,name){ 
      // alert(menuid+"  "+name);       
        if(name=="FnCreateschool")
          this.FnCreateschool();
        else if(name=="FnCreateSchooltype")
          this.FnCreateSchooltype();
        else if(name=="FnCreateCategory")
          this.FnCreateCategory();
        else if(name=="EmployeeToGrade")
          this.EmployeeToGrade();
        else if(name=="FnCreategrade")
          this.FnCreategrade();
        else if(name=="FnCreateRole")
          this.FnCreateRole();
        else if(name=="FnCreatesubject")
          this.FnCreatesubject();
        else if(name=="SchoolTypeToGrade")
          this.SchoolTypeToGrade();
        else if(name=="SchooltypToGrade")
          this.SchooltypToGrade();
        else if(name=="FnCreateEmployee")
          this.FnCreateEmployee();
        else if(name=="CategorytoSchooltype")
          this.CategorytoSchooltype();
        else if(name=="StudentFixed")
          this.StudentFixed()
        else if(name=="SectionCreation")
          this.SectionCreation();
        else if(name=="GradeToSubject")
          this.GradeToSubject();
        else if(name=="SubjectToStudent")
          this.SubjectToStudent();
        else if(name=="EmptoCategory")
          this.EmptoCategory();
        else if(name=="GradeToSection")
          this.GradeToSection();
        else if(name=="Workingdays")
          this.Workingdays();
        else if(name=="FnRoleToGradeMapping")
          this.FnRoleToGradeMapping();
        else if(name=="FnEmpreportdetails")
          this.FnEmpreportdetails();
        else if(name=="Fnstudentreport")
          this.Fnstudentreport();
        else if(name=="FnSectionedittt")
          this.FnSectionedittt();
        else if(name=="Fnstudentinformation")
          this.Fnstudentinformation();
        else if(name=="Fnsinglestaff")
          this.Fnsinglestaff();
        else if(name=="FnTermcreation")
          this.FnTermcreation();
        else if(name=="FnAssesmentcreation")
          this.FnAssesmentcreation();
        else if(name=="FnTermassesmentcreation")
          this.FnTermassesmentcreation();
        else if(name=="FnAssesmenttosubject")
          this.FnAssesmenttosubject();
        else if(name=="fnschooltranfer")
          this.fnschooltranfer();
        else if(name=="CaptureReportads")
          this.CaptureReportads();
        else if(name=="fnbookapruval")
          this.fnbookapruval();
        else if(name=="fnbookreject")
          this.fnbookreject();
        else if(name=="fnchapterreport")
          this.fnchapterreport();
        else if(name=="fncurriculamreport")
          this.fncurriculamreport();
        else if(name=="fnevaluationreport")
          this.fnevaluationreport();
        else if(name=="fnbookclassplan")
          this.fnbookclassplan();
        else if(name=="FnSelectTermType")
          this.FnSelectTermType();
        else if(name=="fnsubjectreport")
          this.fnsubjectreport();
        else if(name=="Fnsinglestudentinfo")
          this.Fnsinglestudentinfo();
        else if(name=="FnGenerateReportcard")
          this.FnGenerateReportcard();
        else if(name=="FnGenerateScorecard")
          this.FnGenerateScorecard();
        else if(name=="FnEditInfo")
          this.FnEditInfo();
        else if(name=="FnConsolidatedReport")
          this.FnConsolidatedReport();
        else if(name=="fnsendmails")
          this.fnsendmails();
        else if(name=="FnApprovecard")
          this.FnApprovecard();
        else if(name=="FnApprovalStatus")
          this.FnApprovalStatus();
        else if(name=="fncoodinatormarkentry")
          this.fncoodinatormarkentry();
        else if(name=="FnStudentTracking")
          this.FnStudentTracking();
        else if(name=="FnSelectEvaluation")
          this.FnSelectEvaluation();
        else if(name=="FnSelectBooksCreation")
          this.FnSelectBooksCreation();
        else if(name=="FnEavaluationMapping")
          this.FnEavaluationMapping();
        else if(name=="FnBooksMapping")
          this.FnBooksMapping();
        else if(name=="FnSelectMapping")
          this.FnSelectMapping();
        else if(name=="FnComparisonReport")
          this.FnComparisonReport();
        else if(name=="FnAssesmentComparison")
          this.FnAssesmentComparison();
        else if(name=="FnConsolidatedDataAnalysis")
          this.FnConsolidatedDataAnalysis();
        else
        document.querySelector('login-service').fetchmenuService(menuid,name);
      },
      FnSelectEvaluation:function(){
        document.querySelector('home-page').setPage('beginnerassesment','');
      },
      FnSelectBooksCreation:function(){
        document.querySelector('home-page').setPage('books-creation-card','');
      },
      FnSelectMapping:function(){
        document.querySelector('home-page').setPage('books-issuance-card','');   
        document.querySelector('books-issuance-card').FnRefresh();
        this.$.bassesmentservice.callAssesmentService("Enrichment");
        this.$.bassesmentservice.callGradeService();
        this.$.enrichmentservice.subjectforenrichmentService();
      },
      FnEavaluationMapping:function(){
        document.querySelector('home-page').setPage('enrichment-evaluationmapping-card','');
        document.querySelector('enrichment-evaluationmapping-card').callService();
              this.$.enrichmentservice.FnFetchAllBooks();   
      },
      FnBooksMapping:function(){
        document.querySelector('home-page').setPage('enrichment-booksmapping-card','');
        document.querySelector('enrichment-booksmapping-card').callService();
      },
      FnComparisonReport:function(){
        if(sessionStorage.getItem("curr_sess_loggedroleid")=="management")
          document.querySelector('enrichment-comparison-report').hideschool=false;
        else
          document.querySelector('enrichment-comparison-report').hideschool=true;
        document.querySelector('home-page').setPage('enrichment-comparison-report','');   
        document.querySelector('enrichment-comparison-report').FnRefresh();
        
        this.$.bassesmentservice.callAssesmentService("Enrichment");
        this.$.bassesmentservice.callGradeService();
        this.$.enrichmentservice.subjectforenrichmentService();
        this.$.scorecardservice.callSchoolService();
      },
      FnAssesmentComparison:function(){
        if(sessionStorage.getItem("curr_sess_loggedroleid")=="management")
          document.querySelector('assesment-comparison-homecard').hideschool=false;
        else
          document.querySelector('assesment-comparison-homecard').hideschool=true;
        document.querySelector('home-page').setPage('assesment-comparison-homecard','');   
        document.querySelector('assesment-comparison-homecard').FnRefresh();
        
        this.$.bassesmentservice.callAssesmentService("Enrichment");
        this.$.bassesmentservice.callGradeService();
        this.$.enrichmentservice.subjectforenrichmentService();
        this.$.scorecardservice.callSchoolService();
      },
      FnInitializeContainers:function(){
        document.querySelector('login-service').fetchmainmenuService();
      }, 
      FnSelectacademicyear:function(e){  
        academicyear = e.target.selectedItem.value.trim();
        // alert(localStorage.getItem('curr_sess_loggedassesmenttype'));
        localStorage.setItem("curr_sess_academicyear",academicyear); 
          if(localStorage.getItem('curr_sess_loggedassesmenttype')=="CategorytoSchooltype")
          {
           document.querySelector('app-card').setPage('homepage','');
           document.querySelector('home-page').setPage('employe-schooltype-to-category-card','');
          }

          if(localStorage.getItem('curr_sess_loggedassesmenttype')=="EmployeeToGrade"){
              document.querySelector('app-card').setPage('homepage','');
              document.querySelector('home-page').setPage('employe-category-creation-card',''); 
          }
          if(localStorage.getItem('curr_sess_loggedassesmenttype')=="GradeToSubject"){
            document.querySelector('app-card').setPage('homepage','');
             document.querySelector('home-page').setPage('school-grade-to-subject-card',''); 
             document.querySelector('school-grade-to-subject-card').fnngrades(); 
           }
          if(localStorage.getItem('curr_sess_loggedassesmenttype')=="StudentTranfer"){
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('student-transfer-grade','');
           }  
          if(localStorage.getItem('curr_sess_loggedassesmenttype')=='SectionCreation'){
               document.querySelector('app-card').setPage('homepage','');
               document.querySelector('home-page').setPage('school-section-creation-card','');
               document.querySelector('school-section-creation-card').fnnsection();  
          }
          if(localStorage.getItem('curr_sess_loggedassesmenttype')=="StudentToSection"){
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('Student-to-section-mapping-card','');
          document.querySelector('Student-to-section-mapping-card').funnstudent(); 
          
          }
          if(localStorage.getItem('curr_sess_loggedassesmenttype')=="employeecreation")
          {
              document.querySelector('app-card').setPage('homepage','');
              document.querySelector('home-page').setPage('new-employee-creation-card','');
        document.querySelector('new-employee-creation-card').FnToggleSpinner(true);
            
              document.querySelector('new-employee-creation-card').fnnewemp();
              this.$.uiservice.fnschoolemployeepersonal();              
              
              //alert('2');
        }
        if(localStorage.getItem('curr_sess_loggedassesmenttype')=="studentmanagement")
        {   
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('addnewstudent-card','');
          this.$.assesmentservice.callGradeService();
        }
        if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Term")
        {   
          this.$.assesmentservice.callTermService("Term");
        }
          if(localStorage.getItem('curr_sess_loggedassesmenttype')=="feecollectionupdate") 
         {
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('studentlistcard','');
         } 
 
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Enrichment") 
         {
          this.$.bassesmentservice.callAssesmentService("Enrichment"); 
          document.querySelector('app-card').setPage('homepage','');
          if(sessionStorage.getItem("curr_sess_loggedroleid")=="management")
          document.querySelector('enrichmenthome-card').nonreport=true;
          else
          document.querySelector('enrichmenthome-card').nonreport=false;
          document.querySelector('home-page').setPage('enrichmenthome-card','');
          // document.querySelector('home-page').setPage('beginnerassesment','');
         }
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Analysis") 
         {
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('beginnertermanalysis','');
         } 
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Consolidatedreport") 
         {
          // alert('consolidated');
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('consolidatedreport','');
         } 
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Comparisonreport") 
         {          
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('scorecard','');
         }
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Approvalstatus") 
         {     
          this.$.assesmentservice.callTermService("Term");
         }
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Approval") 
         {     
          this.$.assesmentservice.callTermService("Term");
         }
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="subjectreport") 
         {     
          this.$.assesmentservice.callTermService("Term");
         }
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Editinfo") 
         {          
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('scorecard','');
         }
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="Consolidateddataanalysis") 
         {          
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('consolidateddataanalysis','');
         }
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="roletogrademapping") 
         {          
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('school-grade-to-role-mapping','');
          this.$.mappingservice.fetchschooltypesforgradetorolemapService();
          this.$.mappingservice.fetchrolesforgradetorolemapService();
         }  
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="empreportdetails") 
         {          
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('employee-report-card','');
          this.$.empservice.FnSelectemp();
          this.$.empservice.Selectempschooltype();
          
         }  
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="studentsectionreport")
         {
           document.querySelector('app-card').setPage('homepage','');
            document.querySelector('home-page').setPage('student-to-section-report',''); 
            this.$.reportservice.gradeService();
         } 
         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="sectionedit")
         {
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('section-edit-card','');
         }

         if(localStorage.getItem('curr_sess_loggedassesmenttype')=="captureReport") 
         {
        //   alert('1'); 
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('teacher-book-refernce-card','');
          this.$.bookservice.capterseq();
         // this.$.bookservice.conceptseq();
        //  this.$.bookservice.getcaptervalue();
         } 
       if(localStorage.getItem('curr_sess_loggedassesmenttype')=="bookapruval")
         {
            localStorage.setItem("curr_sess_report","curriculumplan");
            this.$.assesmentservice.callTermService("Term");
            // document.querySelector('teacher-book-approve-card').fnsetval();
            // document.querySelector('teacher-book-approve-card').fnRefresh();
            // document.querySelector('teacher-book-approve-card').fnhide();
            
            // document.querySelector('app-card').setPage('homepage','');
            // document.querySelector('home-page').setPage('teacher-book-approve-card','');
            // if(sessionStorage.getItem("curr_sess_loggedroleid")=='subject-teacher')
            // {   
            // this.$.bookservice.bookgrade();
            // this.$.bookservice.masterzskill();
            // document.querySelector('teacher-book-approveal-concept-item-card').FnRefresh();
            // }
            // else if(sessionStorage.getItem("curr_sess_loggedroleid")=='co-ordinator'){
            // this.$.bookservice.getappovedcoordinator();
            // this.$.bookservice.masterzskill();
            // }
            // else if(sessionStorage.getItem("curr_sess_loggedroleid")=="principal"||sessionStorage.getItem("curr_sess_loggedroleid")=="headofedn"||sessionStorage.getItem("curr_sess_loggedroleid")=="headmistress"||sessionStorage.getItem("curr_sess_loggedroleid")=="viceprincipal"){
            // this.$.bookservice.masterzskill();
            // this.$.bookservice.bookgrade();
            // } 
     }    
     if(localStorage.getItem('curr_sess_loggedassesmenttype')=="classplan")
     {
      document.querySelector('app-card').setPage('homepage','');
      document.querySelector('home-page').setPage('curriculum-plan-homecard');
      this.$.reportcardoptionservice.FnFetchGradeSectionSubject();
      // /document.querySelector('home-page').setPage('curriculum-plan-conceptapproval-card','');
      // document.querySelector('home-page').setPage('class-teacher-book-approve-card','');
      // /this.$.bookservice.fnbookplangrade();
      // /this.$.bookservice.fnbookplansubject();
      // this.$.bookservice.masterzskill();      
     }
   if(localStorage.getItem('curr_sess_loggedassesmenttype')=="bookreject")
   {
    document.querySelector('app-card').setPage('homepage','');
    document.querySelector('home-page').setPage('class-teacher-book-reject-card','');    
    this.$.bookservice.chaptcompletionstatus();
    //document.querySelector('class-teacher-book-reject-card').FnRefresh1();
     }
     if(localStorage.getItem('curr_sess_loggedassesmenttype')=="chapterreport")
     {
      document.querySelector('app-card').setPage('homepage','');
      document.querySelector('home-page').setPage('incomplete-chapter-report','');
      this.$.bookservice.fnsetrejectbookgrade();
      //this.$.bookservice.fnsetrejectbooksubject();
     }
     if(localStorage.getItem('curr_sess_loggedassesmenttype')=="curriculamreport")
     {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('curriculam-report','');
        this.$.bookservice.fnfetchcprgrade();
     }
   if(localStorage.getItem('curr_sess_loggedassesmenttype')=="evaluationreport")
     {
      document.querySelector('app-card').setPage('homepage','');
      document.querySelector('home-page').setPage('evaluation-report-card','');
       this.$.bookservice.fnsetrejectbookgrade1();
      //this.$.bookservice.fnsetrejectbooksubject1();
      }  
      if(localStorage.getItem('curr_sess_loggedassesmenttype')=="innovationreport") 
      {
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('innovation-report','');
             this.$.bookservice.fninnovategrade();
             //this.$.bookservice.fnselectinnovatesubject();
      }
      if(localStorage.getItem('curr_sess_loggedassesmenttype')=="termcreation") 
      {          
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('term-creation-card','');
          this.$.mastertermservice.Fngettermvalue(); 
           this.$.mastertermservice.fngenerateterm();
     } 
  if(localStorage.getItem('curr_sess_loggedassesmenttype')=="assesmentcreation") 
     {          
          document.querySelector('app-card').setPage('homepage','');
      document.querySelector('home-page').setPage('assesment-creation-card','');
          this.$.mastertermservice.Fngetassesmentvalue(); 
           this.$.mastertermservice.fngenerateterm();

      } 
   if(localStorage.getItem('curr_sess_loggedassesmenttype')=="termassesmenttograde") 
         {          
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('term-assesment-to-grade-mapping','');
           this.$.mastertermservice.Fnschooltype(); 
          // this.$.mastertermservice.fngenerateterm();
          
         } 
   if(localStorage.getItem('curr_sess_loggedassesmenttype')=="assesmenttosubject") 
         {          
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('assesment-to-subject-mapping-card','');
           this.$.mastertermservice.Fnschooltype(); 
          // this.$.mastertermservice.fngenerateterm();
          
         }
   if(localStorage.getItem('curr_sess_loggedassesmenttype')=="schooltransfer") {          
   document.querySelector('app-card').setPage('homepage','');
   document.querySelector('home-page').setPage('school-transfer-card','');
      this.$.studservice.fnschoolname(); 
       this.$.studservice.fnschoolstudentinfo(); 
    }
if(localStorage.getItem('curr_sess_loggedassesmenttype')=="studentinformation")
      {
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('student-information-card','');
          this.$.studservice.fetchstudentremove();
          this.$.studservice.fngetgrade();
          this.$.studservice.fetchstudentinfo();
           this.$.studservice.lanpref();
           this.$.studservice.fnacadamic();
          this.$.studservice.fnget1grade();
          this.$.studservice.studentconfics();
          document.querySelector('student-add-card').FnfullzRefresh();
      }
if(localStorage.getItem('curr_sess_loggedassesmenttype')=="coodinatormarkentry")
  {
 
       this.$.assesmentservice.callTermService("Term");  
      }
  if(localStorage.getItem('curr_sess_loggedassesmenttype')=="singlestaff")
      {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('single-staff-mapping-card','');
        this.$.studservice.fetchsinglestaff();
        this.$.studservice.fetchsinglegrade();
      }
  if(localStorage.getItem('curr_sess_loggedassesmenttype')=="singlestudentinfo")
       {
          this.$.assesmentservice.callTermService("Term");
       }
 if(localStorage.getItem('curr_sess_loggedassesmenttype')=='sendmailsid')
      {
document.querySelector('app-card').setPage('homepage','');
document.querySelector('home-page').setPage('student-scorcard-mail-card','');
    this.$.assesmentservice.callTermService("Term");
    this.$.assesmentservice.callGradeService();   

 //this.$.scorecardservice.fnmailtermvalue();
      }
 if(localStorage.getItem('curr_sess_loggedassesmenttype')=='comparisonterm')
     {
      document.querySelector('app-card').setPage('homepage','');
    document.querySelector('home-page').setPage('student-term-comparison-report','');

    this.$.comparisonservice.callGradeService();   
    
      }

        this.$.cdialog.close();   
      },
      FnStudent:function()
      {
        localStorage.setItem('curr_sess_loggedassesmenttype','studentmanagement');
        this.$.assesmentservice.callAcademicService();
        // this.$.cdialog.toggle(); 
      },
      FnSelectPreEntryType:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Enrichment');
        this.$.bassesmentservice.callAcademicService(); 
        this.$.cdialog.toggle();
      },
      FnGenerateScorecard:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Scorecard');
        // this.$.scorecardservice.callFetchstudentnameService();
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('scorecard','');
        //  this.$.assesmentservice.callTermService("Term");
        this.$.scorecardservice.callGradeService();
        this.$.assesmentservice.callAcademicService(); 
        document.querySelector('cce-generate-score-card').hidegetfistsirchid=false; 
      },
      FnSelectTermType:function(){
        localStorage.setItem('curr_sess_report','0');
        localStorage.setItem('curr_sess_loggedassesmenttype','Term');
        this.$.assesmentservice.callAcademicService();
      },

      FnGenerateReportcard:function()
       {
        localStorage.setItem('curr_sess_report','1');
        localStorage.setItem('curr_sess_loggedassesmenttype','Term');
        this.$.assesmentservice.callAcademicService();
        // localStorage.setItem('curr_sess_report','1');
        // localStorage.setItem('curr_sess_loggedassesmenttype','Term');
        // this.$.assesmentservice.callAcademicService();
      },
      FnGeneratemgmtReportcard:function()
      {
        this.$.scorecardservice.callSchoolService();
        this.$.schooldialog.toggle();        
        // localStorage.setItem('curr_sess_report','1');
        // localStorage.setItem('curr_sess_loggedassesmenttype','Term');
        // this.$.assesmentservice.callAcademicService();
      },
      FnSelectSchool:function(e){
        var schoolid = e.target.selectedItem.value.trim();
        sessionStorage.setItem("curr_sess_loggedschoolid",schoolid);
        this.$.schooldialog.toggle();
        this.FnGenerateReportcard();
      },
      FnToggle:function(){
        this.$.dialog.toggle();
      },
      FnSelectTerm:function(e)
      {
        var termname = e.target.selectedItem.textContent.trim();  
        localStorage.setItem('curr_sess_termname',termname);  
        // this.$.assesmentservice.callAssesmentService("Term",termname,"");               
        
        if(localStorage.getItem('curr_sess_report')=="1")
        {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('termscholasticcategory','');
        document.querySelector('term-scholastic-category').FnHideView();
        // document.querySelector('home-page').setPage('termassesment','');        
        this.$.assesmentservice.callGradeService();   
        }
        else if(localStorage.getItem('curr_sess_report')=="2")
        {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('approveassesment','');
        document.querySelector('approve-one-to-four-card').FnSpinnerrActive(true);       
        this.$.assesmentservice.callApproveService(); 
        // document.querySelector('home-page').setPage('termassesment','');        
        // this.$.assesmentservice.callGradeService();   
        }        
        else if(localStorage.getItem('curr_sess_report')=="3"){
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('approvalstatus');
        this.$.assesmentservice.callGradeService();   
        document.querySelector('approvalstatus-card').FnCallService();
        // this.$.assesmentservice.FnFetchApprovalStatus();        
        }
        else if(localStorage.getItem('curr_sess_report')=="7"){
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('subject-report-status-card');
        //  this.$.assesmentservice.callGradeService();   
        this.$.singleservice.FnFetchSubjectStatus();
        document.querySelector('subject-report-status-card').FnSpinnerrActive(true);
        }
        else if(localStorage.getItem('curr_sess_report')=="6"){
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('single-student-mark-entery-card');
        this.$.singleservice.getstudentinformation();
         }
         else if(localStorage.getItem('curr_sess_report')=="8"){
           document.querySelector('app-card').setPage('homepage','');
           document.querySelector('home-page').setPage('student-coordinator-apruval-card','');
         this.$.singleservice.fngetinformationvalue();
         }
         else if(localStorage.getItem('curr_sess_report')=="curriculumplan"){
            this.$.reportcardoptionservice.FnFetchGradeSubject();
            document.querySelector('app-card').setPage('homepage','');
            document.querySelector('home-page').setPage('curriculum-planning-option-card','');
            // document.querySelector('teacher-book-approve-card').fnsetval();
            // document.querySelector('teacher-book-approve-card').fnRefresh();
            // document.querySelector('teacher-book-approve-card').fnhide();
            
            // document.querySelector('app-card').setPage('homepage','');
            // document.querySelector('home-page').setPage('teacher-book-approve-card','');
            // if(sessionStorage.getItem("curr_sess_loggedroleid")=='subject-teacher')
            // {   
            // this.$.bookservice.bookgrade();
            // this.$.bookservice.masterzskill();
            // document.querySelector('teacher-book-approveal-concept-item-card').FnRefresh();
            // }
            // else if(sessionStorage.getItem("curr_sess_loggedroleid")=='co-ordinator'){
            // this.$.bookservice.getappovedcoordinator();
            // this.$.bookservice.masterzskill();
            // }
            // else if(sessionStorage.getItem("curr_sess_loggedroleid")=="principal"||sessionStorage.getItem("curr_sess_loggedroleid")=="headofedn"||sessionStorage.getItem("curr_sess_loggedroleid")=="headmistress"||sessionStorage.getItem("curr_sess_loggedroleid")=="viceprincipal"){
            // this.$.bookservice.masterzskill();
            // this.$.bookservice.bookgrade();
            // } 
         }
        else
        {
        this.$.assesmentservice.callGradeService();   
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('termscholasticcategory','');
        document.querySelector('term-scholastic-category').FnHideView();
        }
        this.$.dialog.close();
      },
      FnYearToggle:function(){
        this.$.cdialog.toggle();
      },
  
      FnRefresh:function()
      {
      document.querySelector('#academicyr').selected=-1;
      document.querySelector('#termtype').selected=-1;
      },
      FnAnalysiscard:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Analysis');   
        document.querySelector('consolidated-report-card').FnHideSchool();
        if(sessionStorage.getItem("curr_sess_loggedroleid")=='management')
        this.$.scorecardservice.callSchoolService();
        if(sessionStorage.getItem("curr_sess_loggedroleid")!='management')
        this.$.scorecardservice.callGradeService();
        // this.$.scorecardservice.callGradeService();
        this.$.cdialog.toggle();
      },
      FnConsolidatedReport:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Consolidatedreport');
        document.querySelector('consolidated-report-card').FnHideSchool();
        if(sessionStorage.getItem("curr_sess_loggedroleid")=='management')
        this.$.scorecardservice.callSchoolService();
        if(sessionStorage.getItem("curr_sess_loggedroleid")!='management')
        this.$.scorecardservice.callGradeService();
        this.$.cdialog.toggle();
      },
      FnConsolidatedDataAnalysis:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Consolidateddataanalysis');
        // document.querySelector('consolidated-data-analysis').FnHideSchool();
        document.querySelector('consolidated-assesment-report').FnHideSchool();
        if(sessionStorage.getItem("curr_sess_loggedroleid")=='management')
        this.$.scorecardservice.callSchoolService();
        if(sessionStorage.getItem("curr_sess_loggedroleid")!='management')
        this.$.scorecardservice.callGradeService();
        this.$.cdialog.toggle();
      },
      FnStudentTracking:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','StudentTracking');
        // document.querySelector('student-performance-tracking-homecard').FnHideSchool();
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('student-performance-tracking-homecard','');
        document.querySelector('student-performance-tracking-homecard').FnCallService();      
      },
      FnOverallDashboard:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Overalldashboard');
        // document.querySelector('student-performance-tracking-homecard').FnHideSchool();
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('dashboard-homecard','');
        document.querySelector('dashboard-homecard').FnCallService();
      },
      fnsendmails:function(e){
       localStorage.setItem('curr_sess_loggedassesmenttype','sendmailsid');
       this.$.cdialog.toggle();
      },
      FnTeacherbserver:function()
      {
        localStorage.setItem('curr_sess_loggedassesmenttype','teach_obser'); 
        this.$.cdialog.toggle();
         document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('teacherobservation','Teacher Observation Card'); 
         this.$.observerservice.fetchobserverdescription();
        this.$.observerservice.fetchteachersid();
         document.querySelector('teacher-observation_card').Fnobservername();
       //this.$.service.uname=sessionStorage.getItem("curr_sess_loggeduname");     
      },
      fncoodinatormarkentry:function(e){
      localStorage.setItem('curr_sess_loggedassesmenttype','coodinatormarkentry'); 
          localStorage.setItem('curr_sess_report',"8");
    
        this.$.cdialog.toggle();
   },
      FnComparison:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Comparisonreport');
        this.$.scorecardservice.callGradeService();
        this.$.cdialog.toggle();
      },
        SchoolTypeToGrade:function(e){
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('master-school_type-creation','');
       //document.querySelector('schooltype-card').ready();
        this.$.uiservice.getschoolTypename();
        this.$.uiservice.SchooltypetoGrademapping();   
      },  
      FnApprovecard:function()
      {        
      localStorage.setItem('curr_sess_loggedassesmenttype','Approval');
      localStorage.setItem('curr_sess_report','2');
      this.$.scorecardservice.callGradeService();
      this.$.cdialog.toggle(); 
      // document.querySelector('app-card').setPage('homepage','');
      // document.querySelector('home-page').setPage('approveassesment','');  
      // this.$.assesmentservice.callApproveService();   
      },  
      FnApprovalStatus:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Approvalstatus');
        localStorage.setItem('curr_sess_report','3');
        this.$.scorecardservice.callGradeService();
        this.$.cdialog.toggle(); 
      },
      fnsubjectreport:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','subjectreport');
        localStorage.setItem('curr_sess_report','7');
        this.$.cdialog.toggle(); 
      },
      FnEditInfo:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','Editinfo');
        // this.$.scorecardservice.callFetchstudentnameService();
        this.$.scorecardservice.callGradeService();
        this.$.cdialog.toggle(); 
      document.querySelector('cce-generate-score-card').hidegetfistsirchid=true;
     
      },

    FnCreateCategory:function(e)
       {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('category-card','');
        document.querySelector('category-card').ready();
        document.querySelector('category-card').FnRefresh();
        },  
       StudentFixed:function(e){
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('student-allow-card','');
        this.$.uiservice.fnsetfixdsection();
        document.querySelector('student-allow-card').fnstudentrefresh();
       },  
      FnCreateRole:function(e)
      {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('rolecard','');
        document.querySelector('role-card').ready();
      },

       FnCreategrade:function(e)
      {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('grade-creation-card','');  
        document.querySelector('grade-creation-card').ready();  
      },
         SectionCreation:function(e)
        {  
          localStorage.setItem('curr_sess_loggedassesmenttype','SectionCreation');
           this.$.uiservice.Generatesectionid();
           this.$.uiservice.selectsectiongrade();
           this.$.cdialog.toggle(); 
        },
       SectionPreiodss:function(e)
        {  
          document.querySelector('app-card').setPage('homepage','');
          document.querySelector('home-page').setPage('section-period-itme-card',''); 
          this.$.uiservice.fnsetfixdsection1(); 
         this.$.uiservice.SchoolCategorytype1();
  
       },
      GradeToSection:function(e)
      { 
          localStorage.setItem('curr_sess_loggedassesmenttype','StudentToSection');
      this.$.uiservice.studentsectiontype();
              this.$.cdialog.toggle(); 
      },  
   
      FnCreatesubject:function(e)   
      {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('subjectcard','');
      
      },
        GradeToSubject:function(e)
      {
       localStorage.setItem('curr_sess_loggedassesmenttype','GradeToSubject');
        this.$.uiservice.schoolGradetype();
        this.$.uiservice.SchoolCategorytype();
        document.querySelector('school-grade-to-subject-card').hidenewsubcat=true;
         this.$.cdialog.toggle(); 
          

      },
      CategorytoSchooltype:function(e)
      {
       localStorage.setItem('curr_sess_loggedassesmenttype','CategorytoSchooltype');
        this.$.uiservice.empsubjectTeacher();
        this.$.uiservice.empcategorye();
        this.$.uiservice.empschooltype();
       document.querySelector('employe-schooltype-to-category-card').FnRefresh(); 
       //document.querySelector('employe-schooltype-to-category-card').fnsclsubject();
       document.querySelector('employe-schooltype-to-category-card').fnempsubject();
          this.$.cdialog.toggle();
    
      }, 
      SubjectToStudent:function(e)
      {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('student-to-subject-mapping-card','');
        document.querySelector('student-to-subject-mapping-card').fnlang();
        
        //this.$.uiservice.fnreclear();
        this.$.uiservice.SelectSchoolName();
        //this.$.uiservice.TeachertoGradeSectionNames();
        this.$.uiservice.SelectSchoolgrades();
      },
        FnCreateEmployee:function(e)
        {
          // alert('coming');
        localStorage.setItem('curr_sess_loggedassesmenttype','employeecreation');  
        this.$.uiservice.fnempgenerateid();
        this.$.uiservice.selectschooltype();
        this.$.uiservice.selectrolename();
        // document.querySelector('new-employee-creation-card').openspinr();
        //document.querySelector('new-employee-creation-card').hidecreateemp=false;
        //document.querySelector('new-employee-creation-card').hideupdateemp=true;
        this.$.cdialog.toggle();   
      },

      Workingdays:function(e)
      {
           document.querySelector('app-card').setPage('homepage','');
           document.querySelector('home-page').setPage('working-days-card','');
         //  this.$.uiservice.fnsetgrademapping();
           this.$.uiservice.fnsetfixdsection();
      },
      EmptoCategory:function(e){
        localStorage.setItem('curr_sess_loggedassesmenttype','StudentTranfer');
              this.$.uiservice.tranfergradeinfo();
              document.querySelector('student-transfer-grade').fnrefresh();
             this.$.cdialog.toggle();

   
    },
    EmployeeToGrade:function(e)
      {
        localStorage.setItem('curr_sess_loggedassesmenttype','EmployeeToGrade');
        this.$.uiservice.schoolemployeegrademapping();   
      //document.querySelector('employe-category-creation-card').fncleanbutton(); 
        document.querySelector('employe-category-creation-card').fnnempgrade();
              this.$.cdialog.toggle();
     
      },
     FnCreateschool:function(e)
      {    
      document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('school-creation-card','');
        document.querySelector('school-creation-card').fnnrefresh();
        document.querySelector('school-creation-card').newrefresh();
         this.$.uiservice.FnSchoolidseq();
     
        
     },
     FnCreatesubject:function(e)
      {
        document.querySelector('app-card').setPage('homepage','');

        document.querySelector('home-page').setPage('subjectcard','');  
        document.querySelector('subject-card').ready();  
      },
      FnCreateSchooltype:function(e)
      {
        document.querySelector('app-card').setPage('homepage','');
        document.querySelector('home-page').setPage('schooltypecard','');
        //document.querySelector('schooltype-card').ready();
        this.$.uiservice.FnFetchSchooltypename();
      },
       SchooltypToGrade:function(e)
       {
              document.querySelector('app-card').setPage('homepage','');
              document.querySelector('home-page').setPage('schooltype-to-grade-card','');
             this.$.uiservice.selectschoolnames();
             document.querySelector('schooltype-to-grade-card').fnschoolgrade();
       },

      FnFeeCollection:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','feecollectionupdate');
        // this.$.scorecardservice.callFetchstudentnameService();
          this.$.scorecardservice.callGradeService();
          this.$.uiservice.fnschoolcreation();   
          this.$.uiservice.fnschoolidgenerate();
          this.$.uiservice.SelectSchoolName();
          this.$.uiservice.fnsetgrademapping();
            //this.$.uiservice.fnschoolcreation();
      },
      FnRoleToGradeMapping:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','roletogrademapping');
        // this.$.scorecardservice.callGradeService();
        this.$.cdialog.toggle();
      },
      FnEmpreportdetails:function(e){
         localStorage.setItem('curr_sess_loggedassesmenttype','empreportdetails');
          document.querySelector('employee-report-card').fnhidden();
         this.$.cdialog.toggle();

      },
      Fnstudentreport:function()
      {
          //alert("test");
           localStorage.setItem('curr_sess_loggedassesmenttype','studentsectionreport');
           document.querySelector('student-to-section-report').Fnrefresh();
           document.querySelector('student-to-section-report').ready();
           this.$.cdialog.toggle();
      },
      FnSectionedittt:function()
      {
        localStorage.setItem('curr_sess_loggedassesmenttype','sectionedit');
        this.$.uiservice.tranfergradeinfo();
        document.querySelector('section-edit-card').FnRefresh();

        this.$.cdialog.toggle();
      },

        CaptureReportads:function(e){
       // alert('1');
           localStorage.setItem('curr_sess_loggedassesmenttype','captureReport');
            this.$.bookservice.teacherbookref1();
            document.querySelector('teacher-book-refernce-card').fnrefresh();
            this.$.cdialog.toggle();   
          },
     
         fnbookapruval:function(e){
         localStorage.setItem('curr_sess_loggedassesmenttype','bookapruval');
         this.$.cdialog.toggle();  
         },
        fnbookclassplan:function(e){
          localStorage.setItem('curr_sess_loggedassesmenttype','classplan');
          document.querySelector('curriculum-plan-conceptapproval-card').FnRefreshzzz();
          this.$.cdialog.toggle();       
         },
          fnbookreject:function(e)
          {
            localStorage.setItem('curr_sess_loggedassesmenttype','bookreject');
            this.$.cdialog.toggle();
          },
          fnchapterreport:function(e)
          {
            localStorage.setItem('curr_sess_loggedassesmenttype','chapterreport');
            document.querySelector('incomplete-chapter-report').FnRefresh();
            this.$.cdialog.toggle();
          },
          fncurriculamreport:function(e)
          {
            localStorage.setItem('curr_sess_loggedassesmenttype','curriculamreport');
            document.querySelector('curriculam-report').Fnrefresh11();
            this.$.cdialog.toggle();
          },
            fnevaluationreport:function(e)
          {
            localStorage.setItem('curr_sess_loggedassesmenttype','evaluationreport');
          //  document.querySelector('curriculam-report').Fnrefresh11();
          document.querySelector('evaluation-report-card').FnRefreshtt();
            this.$.cdialog.toggle();
          },
          fninnovation:function(e)
          {
             localStorage.setItem('curr_sess_loggedassesmenttype','innovationreport');
             document.querySelector('innovation-report').FnRefreshinnvt();
             this.$.cdialog.toggle();
          },
          Fnstudentinformation:function(e)
          {
            localStorage.setItem('curr_sess_loggedassesmenttype','studentinformation');
            document.querySelector('student-information-card').fmrefresh();
            document.querySelector('student-information-card').fnnewreff();
            document.querySelector('student-information-card').studentinforefresh();
              this.$.cdialog.toggle();
          },
          Fnsinglestaff:function(e){
            localStorage.setItem('curr_sess_loggedassesmenttype','singlestaff');
            document.querySelector('single-staff-mapping-card').empinforefresh();
            document.querySelector('single-staff-mapping-card').newempreffff();
            this.$.cdialog.toggle();
          },
          Fnsinglestudentinfo:function(e){
            localStorage.setItem('curr_sess_loggedassesmenttype','singlestudentinfo');
            localStorage.setItem('curr_sess_report',"6");
    
           this.$.cdialog.toggle();
          },
       fncomparisonvalue:function(e){
            localStorage.setItem('curr_sess_loggedassesmenttype','comparisonterm');
           this.$.cdialog.toggle();

       },
    FnTermcreation:function(e){
     localStorage.setItem('curr_sess_loggedassesmenttype','termcreation');
      this.$.cdialog.toggle();
       }, 
      FnAssesmentcreation:function(){
     localStorage.setItem('curr_sess_loggedassesmenttype','assesmentcreation');
     this.$.cdialog.toggle();
      }, 
       FnTermassesmentcreation:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','termassesmenttograde');
          this.$.cdialog.toggle();
       },
        FnAssesmenttosubject:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','assesmenttosubject');
          this.$.cdialog.toggle();
       },
       fnschooltranfer:function(){
        localStorage.setItem('curr_sess_loggedassesmenttype','schooltransfer');
          this.$.cdialog.toggle();
       },
    });
  })();
  </script>
</dom-module>
